# C++ Primer

## 入门

### 编写简单的C++程序

mian函数的返回值是一个状态指示器，返回0值往往表示mian函数执行成功，任何其他非零的返回值都有操作系统定义的含义。

程序编写完成后需要进行编译。如何进行编译，与具体操作系统和编译器有关。

源文件（程序）的命名由文件名加文件后缀组成。后缀与所运行的具体编译器有关，包括以下几种形式：

proc.cc proc.cxx proc.cpp proc.cp proc.c

### 输入、输出

大多程序采用处理格式化输入和输出的**iostream**库。iostream库的基础是名为**istream**和**ostream**的两种类型。

标准库定义了4个IO对象：

**cin**：标准输入

**cout**：标准输出

**cerr**：标准错误

**clog**：打印日志

输入操作符**>>**接受一个istream对象作为左操作数，接受一个对象作为右操作数，它从istream操作数读取数据并保存到右操作数中，返回 其左操作数。

输出操作符**<<**则是将右操作数写到左操作数的ostream对象。

在输入输出流中，操作数可以有多个，类型也可以不同。

在C++中，初始化时一个很重要的概念。定义变量时，如果不能保证变量在读取之前会重置，必须初始化该变量。

### 注释

**//** 单行注释

**/* */** 成对注释

**成对注释不能嵌套**

从键盘输入文件结束符：

Windows系统下 Ctrl+Z

### 类

C++通过定义类来定义自己的数据结构。

类类型存储在一个文件中，文件的名字由类名和文件后缀组成，后缀可为.h, .H, .hpp, .hxx。

标准库的头文件用<>括起来，非标准库的头文件用“ ”括起来

### C++工程

一个工程往往不仅包含源文件（.cpp后缀文件），一般还有头文件（.h后缀文件 ）等。

一个工程只能有一个mian函数，这个函数的文件类似于前端中的入口文件，即从main函数开始执行整个工程。

即：一个工程含有多个cpp文件，但其中只有一个入口文件。

### C++类成员变量的初始化方式：

1. 构造函数初始化列表
2. 构造函数函数体内赋值

【shift+Tab去除列表的缩进——退出列表】

```c++
class A
{
    public:
    	A(int n,int m): //初始化列表
    		A_n(n);
    		A_m(m);
    	{}
    	A(int n,int m)  //函数体内赋值
    	{
            A_n = n;
            A_m = m;
    	}
    private:
    	int A_n;
    	int A_m;
}
```

对于内部数据类型个（char,int,...,指针等）来说，两种方式是基本没有区别的，当然两种方式是不能共存的。

【其他情况有待补充。。。】<https://blog.csdn.net/yu132563/article/details/80103887>

### C++内存释放解析

```c++

class Test
{
	/*
	.	2.类对象中：
	.		2.1.对象成员变量的内存 随对象内存释放而释放
	.			如 对象成员变量：a, b, c
	.		2.2.对象成员变量指针指向的堆内存（new 出来的），需用 delete 在析构函数中释放 
	.			如 指针指向的堆内存：*b
	.	3.类对象内存：
	.		3.1.若类对象如下main 中 t1，则其对象内存存放于栈中
	.		3.2.若类对象如下main 中 t2，则其对象内存存放于堆中
	.		3.3.对象内存包括 a, b, c ， 注：b指针变量指向的内存 不属于对象内存
	*/
private:
	int a = 1;
	int *b = new int(2);
	int c[5];
 
public:
	Test() {};
	~Test() { delete b; }
};
 
int main()
{
	/*
	.	1.函数中：
	.		1.1.函数中 栈变量的内存 随函数运行结束 由系统自动释放
	.			如 栈变量： t1, t2, a, b, c
	.		1.2.函数中 栈变量指针指向的堆内存（new 出来的），需用 delete 手动释放 
	.			如 栈变量指向的堆内存：*t2, *b
	*/
	Test t1;
	Test *t2 = new Test();
 
	int a = 1;
	int *b = new int(2);
	int c[5];
	c[0] = 1;
 
	delete t2, b;
}
```

### 一些小点

C++ 支持空指针。NULL 指针是一个定义在标准库中的值为零的常量。

通过结构指针来访问结构体的成员时，必须用->；通过结构体对象访问其成员时，用 . 。

### C++动态内存

C++中的内存可分为两个部分：

**栈**：函数中声明的所有变量都占用栈内存。

**堆**：堆是尚未使用的内存，在程序运行中可用于动态分配内存。

在 C++ 中，您可以使用特殊的运算符为给定类型的变量在运行时分配堆内的内存，这会返回所分配的空间地址。这种运算符即 **new** 运算符。

如果您不再需要动态分配的内存空间，可以使用 **delete** 运算符，删除之前由 new 运算符分配的内存

### vector

vector是存放不同类型数据的动态数组。

